// This code was AUTOGENERATED using the codama library.
// Please DO NOT EDIT THIS FILE, instead use visitors
// to add features, then rerun codama to update it.
//
// https://github.com/codama-idl/codama

package pump

import (
	"fmt"

	ag_binary "github.com/gagliardetto/binary"
	ag_solanago "github.com/gagliardetto/solana-go"
)

var SetParamsDiscriminator = []byte{27, 234, 178, 52, 147, 2, 187, 141}

// SetParams is the `SetParams` instruction.
type SetParams struct {
	// [0] = [WRITE] Global
	// [1] = [WRITE, SIGNER] Authority
	// [2] = [] EventAuthority
	// [3] = [] Program
	ag_solanago.AccountMetaSlice `bin:"-" borsh_skip:"true"`
	InitialVirtualTokenReserves  uint64
	InitialVirtualSolReserves    uint64
	InitialRealTokenReserves     uint64
	TokenTotalSupply             uint64
	FeeBasisPoints               uint64
	WithdrawAuthority            ag_solanago.PublicKey
	EnableMigrate                bool
	PoolMigrationFee             uint64
	CreatorFeeBasisPoints        uint64
	SetCreatorAuthority          ag_solanago.PublicKey
	AdminSetCreatorAuthority     ag_solanago.PublicKey
}

// NewSetParamsInstructionBuilder creates a new `SetParams` instruction builder.
func NewSetParamsInstructionBuilder() *SetParams {
	nd := &SetParams{}
	nd.AccountMetaSlice = make(ag_solanago.AccountMetaSlice, 4)
	return nd
}

// SetInitialVirtualTokenReserves sets the "initial_virtual_token_reserves" parameter.
func (inst *SetParams) SetInitialVirtualTokenReserves(initialVirtualTokenReserves uint64) *SetParams {
	inst.InitialVirtualTokenReserves = initialVirtualTokenReserves
	return inst
}

// SetInitialVirtualSolReserves sets the "initial_virtual_sol_reserves" parameter.
func (inst *SetParams) SetInitialVirtualSolReserves(initialVirtualSolReserves uint64) *SetParams {
	inst.InitialVirtualSolReserves = initialVirtualSolReserves
	return inst
}

// SetInitialRealTokenReserves sets the "initial_real_token_reserves" parameter.
func (inst *SetParams) SetInitialRealTokenReserves(initialRealTokenReserves uint64) *SetParams {
	inst.InitialRealTokenReserves = initialRealTokenReserves
	return inst
}

// SetTokenTotalSupply sets the "token_total_supply" parameter.
func (inst *SetParams) SetTokenTotalSupply(tokenTotalSupply uint64) *SetParams {
	inst.TokenTotalSupply = tokenTotalSupply
	return inst
}

// SetFeeBasisPoints sets the "fee_basis_points" parameter.
func (inst *SetParams) SetFeeBasisPoints(feeBasisPoints uint64) *SetParams {
	inst.FeeBasisPoints = feeBasisPoints
	return inst
}

// SetWithdrawAuthority sets the "withdraw_authority" parameter.
func (inst *SetParams) SetWithdrawAuthority(withdrawAuthority ag_solanago.PublicKey) *SetParams {
	inst.WithdrawAuthority = withdrawAuthority
	return inst
}

// SetEnableMigrate sets the "enable_migrate" parameter.
func (inst *SetParams) SetEnableMigrate(enableMigrate bool) *SetParams {
	inst.EnableMigrate = enableMigrate
	return inst
}

// SetPoolMigrationFee sets the "pool_migration_fee" parameter.
func (inst *SetParams) SetPoolMigrationFee(poolMigrationFee uint64) *SetParams {
	inst.PoolMigrationFee = poolMigrationFee
	return inst
}

// SetCreatorFeeBasisPoints sets the "creator_fee_basis_points" parameter.
func (inst *SetParams) SetCreatorFeeBasisPoints(creatorFeeBasisPoints uint64) *SetParams {
	inst.CreatorFeeBasisPoints = creatorFeeBasisPoints
	return inst
}

// SetSetCreatorAuthority sets the "set_creator_authority" parameter.
func (inst *SetParams) SetSetCreatorAuthority(setCreatorAuthority ag_solanago.PublicKey) *SetParams {
	inst.SetCreatorAuthority = setCreatorAuthority
	return inst
}

// SetAdminSetCreatorAuthority sets the "admin_set_creator_authority" parameter.
func (inst *SetParams) SetAdminSetCreatorAuthority(adminSetCreatorAuthority ag_solanago.PublicKey) *SetParams {
	inst.AdminSetCreatorAuthority = adminSetCreatorAuthority
	return inst
}

// SetGlobalAccount sets the "global" account.
func (inst *SetParams) SetGlobalAccount(global ag_solanago.PublicKey) *SetParams {
	inst.AccountMetaSlice[0] = ag_solanago.Meta(global).WRITE()
	return inst
}

// GetGlobalAccount gets the "global" account.
func (inst *SetParams) GetGlobalAccount() *ag_solanago.AccountMeta {
	return inst.AccountMetaSlice[0]
}

// SetAuthorityAccount sets the "authority" account.
func (inst *SetParams) SetAuthorityAccount(authority ag_solanago.PublicKey) *SetParams {
	inst.AccountMetaSlice[1] = ag_solanago.Meta(authority).SIGNER().WRITE()
	return inst
}

// GetAuthorityAccount gets the "authority" account.
func (inst *SetParams) GetAuthorityAccount() *ag_solanago.AccountMeta {
	return inst.AccountMetaSlice[1]
}

// SetEventAuthorityAccount sets the "event_authority" account.
func (inst *SetParams) SetEventAuthorityAccount(eventAuthority ag_solanago.PublicKey) *SetParams {
	inst.AccountMetaSlice[2] = ag_solanago.Meta(eventAuthority)
	return inst
}

// GetEventAuthorityAccount gets the "event_authority" account.
func (inst *SetParams) GetEventAuthorityAccount() *ag_solanago.AccountMeta {
	return inst.AccountMetaSlice[2]
}

// SetProgramAccount sets the "program" account.
func (inst *SetParams) SetProgramAccount(program ag_solanago.PublicKey) *SetParams {
	inst.AccountMetaSlice[3] = ag_solanago.Meta(program)
	return inst
}

// GetProgramAccount gets the "program" account.
func (inst *SetParams) GetProgramAccount() *ag_solanago.AccountMeta {
	return inst.AccountMetaSlice[3]
}

func (inst SetParams) Build() *Instruction {
	return &Instruction{BaseVariant: ag_binary.BaseVariant{
		Impl:   inst,
		TypeID: ag_binary.NoTypeIDDefaultID,
	}}
}

// ValidateAndBuild validates the instruction parameters and accounts;
// if there is a validation error, it returns the error.
// Otherwise, it builds and returns the instruction.
func (inst SetParams) ValidateAndBuild() (*Instruction, error) {
	if err := inst.Validate(); err != nil {
		return nil, err
	}
	return inst.Build(), nil
}

func (inst *SetParams) Validate() error {
	if inst.AccountMetaSlice[0] == nil {
		return fmt.Errorf("accounts.Global is not set")
	}
	if inst.AccountMetaSlice[1] == nil {
		return fmt.Errorf("accounts.Authority is not set")
	}
	if inst.AccountMetaSlice[2] == nil {
		return fmt.Errorf("accounts.EventAuthority is not set")
	}
	if inst.AccountMetaSlice[3] == nil {
		return fmt.Errorf("accounts.Program is not set")
	}
	return nil
}

func (inst *SetParams) GetAccounts() (out []*ag_solanago.AccountMeta) {
	return inst.AccountMetaSlice
}

func (inst *SetParams) SetAccounts(accounts []*ag_solanago.AccountMeta) error {
	if len(accounts) < 4 {
		return fmt.Errorf("not enough accounts: expected at least 4, got %d", len(accounts))
	}
	inst.AccountMetaSlice = accounts[:4]
	return nil
}

func (inst *SetParams) MarshalWithEncoder(encoder *ag_binary.Encoder) error {
	{
		err := encoder.Encode([8]uint8([]byte{27, 234, 178, 52, 147, 2, 187, 141}))
		if err != nil {
			return err
		}
	}
	{
		err := encoder.Encode(inst.InitialVirtualTokenReserves)
		if err != nil {
			return err
		}
	}
	{
		err := encoder.Encode(inst.InitialVirtualSolReserves)
		if err != nil {
			return err
		}
	}
	{
		err := encoder.Encode(inst.InitialRealTokenReserves)
		if err != nil {
			return err
		}
	}
	{
		err := encoder.Encode(inst.TokenTotalSupply)
		if err != nil {
			return err
		}
	}
	{
		err := encoder.Encode(inst.FeeBasisPoints)
		if err != nil {
			return err
		}
	}
	{
		err := encoder.Encode(inst.WithdrawAuthority)
		if err != nil {
			return err
		}
	}
	{
		err := encoder.Encode(inst.EnableMigrate)
		if err != nil {
			return err
		}
	}
	{
		err := encoder.Encode(inst.PoolMigrationFee)
		if err != nil {
			return err
		}
	}
	{
		err := encoder.Encode(inst.CreatorFeeBasisPoints)
		if err != nil {
			return err
		}
	}
	{
		err := encoder.Encode(inst.SetCreatorAuthority)
		if err != nil {
			return err
		}
	}
	{
		err := encoder.Encode(inst.AdminSetCreatorAuthority)
		if err != nil {
			return err
		}
	}
	return nil
}

func (inst *SetParams) UnmarshalWithDecoder(decoder *ag_binary.Decoder) error {
	{
		var tmp [8]uint8
		err := decoder.Decode(&tmp)
		if err != nil {
			return err
		}
	}
	{
		err := decoder.Decode(&inst.InitialVirtualTokenReserves)
		if err != nil {
			return err
		}
	}
	{
		err := decoder.Decode(&inst.InitialVirtualSolReserves)
		if err != nil {
			return err
		}
	}
	{
		err := decoder.Decode(&inst.InitialRealTokenReserves)
		if err != nil {
			return err
		}
	}
	{
		err := decoder.Decode(&inst.TokenTotalSupply)
		if err != nil {
			return err
		}
	}
	{
		err := decoder.Decode(&inst.FeeBasisPoints)
		if err != nil {
			return err
		}
	}
	{
		err := decoder.Decode(&inst.WithdrawAuthority)
		if err != nil {
			return err
		}
	}
	{
		err := decoder.Decode(&inst.EnableMigrate)
		if err != nil {
			return err
		}
	}
	{
		err := decoder.Decode(&inst.PoolMigrationFee)
		if err != nil {
			return err
		}
	}
	{
		err := decoder.Decode(&inst.CreatorFeeBasisPoints)
		if err != nil {
			return err
		}
	}
	{
		err := decoder.Decode(&inst.SetCreatorAuthority)
		if err != nil {
			return err
		}
	}
	{
		err := decoder.Decode(&inst.AdminSetCreatorAuthority)
		if err != nil {
			return err
		}
	}
	return nil
}
